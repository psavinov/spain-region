var Spain = {
	"data" : [
		{
			"name": "Андалусия",
			"mapUrl":"https://goo.gl/maps/XV3ptimN1252",
			"params": {
				"density": 0.1180184255,
				"unemployment": 0.3941874744,
				"crime": 0.8902397604,
				"salary": 0.775481107,
				"housing": 0.4798387016,
				"prices": 0.347826087,
				"russian": 0.5315530863,
				"sunnydays": 1,
				"temperature": 0.9074772043,
				"precipitation": 0.6341464604,
				"sea": 0.75,
				"tourism": 0.8768003339,
				"hitech": 0.3366641045,
				"agriculture": 0.418516909,
				"business": 0.7731102182,
				"languages": 1.2
			},
			"langs" :[
				"испанский"
			],
			"url": "http://www.andalucia.org/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%90%D0%BD%D0%B4%D0%B0%D0%BB%D1%83%D1%81%D0%B8%D1%8F"
		},
		{
			"name": "Арагон",
			"mapUrl":"https://goo.gl/maps/UK6UcTpnSe52",
			"params": {
				"density": 0.0338353392,
				"unemployment": 0.8469656992,
				"crime": 0.7176266804,
				"salary": 0.8097975758,
				"housing": 0.629629619,
				"prices": 0.3418803419,
				"russian": 0.0560408504,
				"sunnydays": 0.8240843845,
				"temperature": 0.751132817,
				"precipitation": 0.6335810996,
				"sea": 0.5,
				"tourism": 0.10481331,
				"hitech": 0.1575710992,
				"agriculture": 0.4409106615,
				"business": 0.7686262143,
				"languages": 1
			},
			"langs" :[
				"испанский"
			],
			"url": "http://www.aragon.es/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%90%D1%80%D0%B0%D0%B3%D0%BE%D0%BD"
		},
		{
			"name": "Астурия",
			"mapUrl":"https://goo.gl/maps/4x25Lxckri62",
			"params": {
				"density": 0.1204115427,
				"unemployment": 0.6577868852,
				"crime": 0.8825898883,
				"salary": 0.8278917469,
				"housing": 0.9153846,
				"prices": 0.350877193,
				"russian": 0.0232513328,
				"sunnydays": 0.5267111724,
				"temperature": 0.6272657663,
				"precipitation": 0.2086922866,
				"sea": 0.75,
				"tourism": 0.0655249343,
				"hitech": 0.0837817064,
				"agriculture": 0.635802768,
				"business": 0.7516809928,
				"languages": 1
			},
			"langs" :[
				"испанский"
			],
			"url": "https://www.asturias.es/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%90%D1%81%D1%82%D1%83%D1%80%D0%B8%D1%8F"
		},
		{
			"name": "Балеарские острова",
			"mapUrl":"https://goo.gl/maps/2Hgk5AAxPwH2",
			"params": {
				"density": 0.275805869,
				"unemployment": 0.7636796193,
				"crime": 0.9679973374,
				"salary": 0.7760030263,
				"housing": 0.434306562,
				"prices": 0.3669724771,
				"russian": 0.072194746,
				"sunnydays": 0.8605867762,
				"temperature": 0.8598941299,
				"precipitation": 0.4710562086,
				"sea": 0.75,
				"tourism": 0.8630231036,
				"hitech": 0.0422751729,
				"agriculture": 0.6154271854,
				"business": 1,
				"languages": 2
			},
			"langs" :[
				"испанский", "каталанский"
			],
			"url": "http://www.illesbalears.travel",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%91%D0%B0%D0%BB%D0%B5%D0%B0%D1%80%D1%81%D0%BA%D0%B8%D0%B5_%D0%BE%D1%81%D1%82%D1%80%D0%BE%D0%B2%D0%B0"
		},
		{
			"name": "Канарские острова",
			"mapUrl":"https://goo.gl/maps/oQEa9XG5Krm",
			"params": {
				"density": 0.3492435992,
				"unemployment": 0.4369328494,
				"crime": 1,
				"salary": 0.7201910247,
				"housing": 0.4576923,
				"prices": 0.4166666667,
				"russian": 0.0860202967,
				"sunnydays": 0.8883924879,
				"temperature": 1,
				"precipitation": 1,
				"sea": 0.75,
				"tourism": 1,
				"hitech": 0.043812452,
				"agriculture": 1,
				"business": 0.9076642422,
				"languages": 1
			},
			"langs" :[
				"испанский"
			],
			"url": "https://www.holaislascanarias.com/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D0%BD%D0%B0%D1%80%D1%81%D0%BA%D0%B8%D0%B5_%D0%BE%D1%81%D1%82%D1%80%D0%BE%D0%B2%D0%B0"
		},
		{
			"name": "Кантабрия",
			"mapUrl":"https://goo.gl/maps/EqLCC7WDqpM2",
			"params": {
				"density": 0.1345457067,
				"unemployment": 0.7138621201,
				"crime": 0.8406986108,
				"salary": 0.7927374506,
				"housing": 0.8749999853,
				"prices": 0.4166666667,
				"russian": 0.0597662021,
				"sunnydays": 0.4523161034,
				"temperature": 0.6827793531,
				"precipitation": 0.1945966046,
				"sea": 0.75,
				"tourism": 0.0498741437,
				"hitech": 0.048424289,
				"agriculture": 0.5115567731,
				"business": 0.8160236,
				"languages": 2
			},
			"langs" :[
				"испанский", "кантабрийский"
			],
			"url": "https://turismodecantabria.com/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D0%BD%D1%82%D0%B0%D0%B1%D1%80%D0%B8%D1%8F_(%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%BE_%D0%B2_%D0%98%D1%81%D0%BF%D0%B0%D0%BD%D0%B8%D0%B8)"
		},
		{
			"name": "Кастийя и Леон",
			"mapUrl":"https://goo.gl/maps/hmVTgq9GvJD2",
			"params": {
				"density": 0.0317620049,
				"unemployment": 0.7024070022,
				"crime": 0.6223843609,
				"salary": 0.772400731,
				"housing": 1,
				"prices": 0.3571428571,
				"russian": 0.0447042199,
				"sunnydays": 0.8018398152,
				"temperature": 0.6053624463,
				"precipitation": 0.6094912521,
				"sea": 0.5,
				"tourism": 0.1626774567,
				"hitech": 0.1475787855,
				"agriculture": 0.3717835426,
				"business": 0.791761694,
				"languages": 1
			},
			"langs" :[
				"испанский"
			],
			"url": "http://www.turismocastillayleon.com/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%81%D1%82%D0%B8%D0%BB%D0%B8%D1%8F_%D0%B8_%D0%9B%D0%B5%D0%BE%D0%BD"
		},
		{
			"name": "Кастийя Ла Манча",
			"mapUrl":"https://goo.gl/maps/rnX3Em4sjdm",
			"params": {
				"density": 0.0315407914,
				"unemployment": 0.4878419453,
				"crime": 0.587770095,
				"salary": 0.7497122915,
				"housing": 0.8150684795,
				"prices": 0.3921568627,
				"russian": 0.0906288137,
				"sunnydays": 0.8059515109,
				"temperature": 0.6733382669,
				"precipitation": 0.6612904467,
				"sea": 0.5,
				"tourism": 0.0725332129,
				"hitech": 0.0814757879,
				"agriculture": 0.4136871053,
				"business": 0.7665937643,
				"languages": 1
			},
			"langs" :[
				"испанский"
			],
			"url": "http://www.castillalamancha.es/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%81%D1%82%D0%B8%D0%BB%D0%B8%D1%8F_%E2%80%94_%D0%9B%D0%B0-%D0%9C%D0%B0%D0%BD%D1%87%D0%B0"
		},
		{
			"name": "Каталония",
			"mapUrl":"https://goo.gl/maps/2ZMQ4FQiT4x",
			"params": {
				"density": 0.29027897,
				"unemployment": 0.7624703088,
				"crime": 0.8485957492,
				"salary": 0.8821332755,
				"housing": 0.2786885199,
				"prices": 0.3418803419,
				"russian": 1,
				"sunnydays": 0.5867596774,
				"temperature": 0.7922959528,
				"precipitation": 0.6582279716,
				"sea": 0.75,
				"tourism": 0.9515558214,
				"hitech": 1,
				"agriculture": 0.6051727757,
				"business": 0.8152145533,
				"languages": 2.5
			},
			"langs" :[
				"испанский", "каталанский"
			],
			"url": "http://www.catalunya.com/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%BD%D0%B8%D1%8F"
		},
		{
			"name": "Валенсия",
			"mapUrl":"https://goo.gl/maps/4c88fMcfyS22",
			"params": {
				"density": 0.2621546235,
				"unemployment": 0.5745823389,
				"crime": 0.9544751278,
				"salary": 0.7593186541,
				"housing": 0.5483870876,
				"prices": 1,
				"russian": 0.7724645128,
				"sunnydays": 0.8065135412,
				"temperature": 0.8685799292,
				"precipitation": 0.5076191429,
				"sea": 0.75,
				"tourism": 0.4689222852,
				"hitech": 0.4204458109,
				"agriculture": 0.7959629146,
				"business": 0.8359852839,
				"languages": 2
			},
			"langs" :[
				"испанский", "валенсийский"
			],
			"url": "http://www.comunitatvalenciana.com/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%92%D0%B0%D0%BB%D0%B5%D0%BD%D1%81%D0%B8%D1%8F_(%D0%B0%D0%B2%D1%82%D0%BE%D0%BD%D0%BE%D0%BC%D0%BD%D0%BE%D0%B5_%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%BE)"
		},
		{
			"name": "Экстремадура",
			"mapUrl":"https://goo.gl/maps/SXhGxGw5LFD2",
			"params": {
				"density": 0.0320005705,
				"unemployment": 0.3833598726,
				"crime": 0.7484206298,
				"salary": 0.7095959532,
				"housing": 0.434306562,
				"prices": 0.4255319149,
				"russian": 0.0074185882,
				"sunnydays": 0.8856414973,
				"temperature": 0.8232627155,
				"precipitation": 0.6892985451,
				"sea": 0.5,
				"tourism": 0.0465030904,
				"hitech": 0.0338201384,
				"agriculture": 0.3608534325,
				"business": 0.8003139888,
				"languages": 1
			},
			"langs" :[
				"испанский"
			],
			"url": "http://www.turismoextremadura.com/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%AD%D1%81%D1%82%D1%80%D0%B5%D0%BC%D0%B0%D0%B4%D1%83%D1%80%D0%B0"
		},
		{
			"name": "Галисия",
			"mapUrl":"https://goo.gl/maps/pLZ2i6Gw6g42",
			"params": {
				"density": 0.1129776521,
				"unemployment": 0.6546566961,
				"crime": 0.7196239728,
				"salary": 0.7480438906,
				"housing": 0.6878612601,
				"prices": 0.3418803419,
				"russian": 0.0262219796,
				"sunnydays": 0.6528130329,
				"temperature": 0.6895769351,
				"precipitation": 0.1832245101,
				"sea": 0.75,
				"tourism": 0.1642145546,
				"hitech": 0.2167563413,
				"agriculture": 0.9565235,
				"business": 0.8211654205,
				"languages": 1
			},
			"langs" :[
				"испанский", "галисийский"
			],
			"url": "http://www.turismo.gal/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%93%D0%B0%D0%BB%D0%B8%D1%81%D0%B8%D1%8F_(%D0%98%D1%81%D0%BF%D0%B0%D0%BD%D0%B8%D1%8F)"
		},
		{
			"name": "Мадрид",
			"mapUrl":"https://goo.gl/maps/4DvdvHmCZkq",
			"params": {
				"density": 1,
				"unemployment": 0.7003636364,
				"crime": 0.7538825622,
				"salary": 0.9592594621,
				"housing": 0.2306201512,
				"prices": 0.4395604396,
				"russian": 0.5341222943,
				"sunnydays": 0.8059515109,
				"temperature": 0.7515104605,
				"precipitation": 0.7658047414,
				"sea": 0.5,
				"tourism": 0.4427644161,
				"hitech": 0.712528824,
				"agriculture": 0.5639533744,
				"business": 0.798396148,
				"languages": 1
			},
			"langs" :[
				"испанский"
			],
			"url": "http://www.madrid.org/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%9C%D0%B0%D0%B4%D1%80%D0%B8%D0%B4_(%D0%B0%D0%B2%D1%82%D0%BE%D0%BD%D0%BE%D0%BC%D0%BD%D0%BE%D0%B5_%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%BE)"
		},
		{
			"name": "Мурсия",
			"mapUrl":"https://goo.gl/maps/tJsPQFGYXA32",
			"params": {
				"density": 0.1603230928,
				"unemployment": 0.5595583963,
				"crime": 0.9195687687,
				"salary": 0.7590854406,
				"housing": 0.6197916563,
				"prices": 0.3571428571,
				"russian": 0.152065001,
				"sunnydays": 0.9413120817,
				"temperature": 0.9078548478,
				"precipitation": 0.9014800846,
				"sea": 0.75,
				"tourism": 0.054842105,
				"hitech": 0.1114527287,
				"agriculture": 0.6301940577,
				"business": 0.7576386416,
				"languages": 1
			},
			"langs" :[
				"испанский"
			],
			"url": "https://www.murciaturistica.es/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%9C%D1%83%D1%80%D1%81%D0%B8%D1%8F_(%D0%B0%D0%B2%D1%82%D0%BE%D0%BD%D0%BE%D0%BC%D0%BD%D0%BE%D0%B5_%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%BE)"
		},
		{
			"name": "Наварра",
			"mapUrl":"https://goo.gl/maps/bsDrn2BZbDT2",
			"params": {
				"density": 0.0763705507,
				"unemployment": 1,
				"crime": 0.6741125522,
				"salary": 0.9018062617,
				"housing": 0.951999984,
				"prices": 0.347826087,
				"russian": 0.0449611407,
				"sunnydays": 0.5519433767,
				"temperature": 0.6051907902,
				"precipitation": 0.2632099259,
				"sea": 0.5,
				"tourism": 0.0361527841,
				"hitech": 0.1229823213,
				"agriculture": 0.3929053141,
				"business": 0.8415224726,
				"languages": 2
			},
			"langs" :[
				"испанский", "баскский"
			],
			"url": "http://www.navarra.es/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%9D%D0%B0%D0%B2%D0%B0%D1%80%D1%80%D0%B0_(%D0%B0%D0%B2%D1%82%D0%BE%D0%BD%D0%BE%D0%BC%D0%BD%D0%BE%D0%B5_%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D1%81%D1%82%D0%B2%D0%BE)"
		},
		{
			"name": "Страна Басков",
			"mapUrl":"https://goo.gl/maps/PN519k3vu8E2",
			"params": {
				"density": 0.3741999007,
				"unemployment": 0.9110690634,
				"crime": 0.7574436869,
				"salary": 1,
				"housing": 0.5534883628,
				"prices": 0.3773584906,
				"russian": 0.0744267455,
				"sunnydays": 0.4410754965,
				"temperature": 0.6895769351,
				"precipitation": 0.1832245101,
				"sea": 0.75,
				"tourism": 0.1082472332,
				"hitech": 0.5196003075,
				"agriculture": 0.8623740603,
				"business": 0.7775128427,
				"languages": 2.5
			},
			"langs" :[
				"испанский", "баскский"
			],
			"url": "http://www.euskoguide.com/es/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D1%80%D0%B0%D0%BD%D0%B0_%D0%91%D0%B0%D1%81%D0%BA%D0%BE%D0%B2"
		},
		{
			"name": "Ла Риоха",
			"mapUrl":"https://goo.gl/maps/66AkRSWvaTw",
			"params": {
				"density": 0.0771238373,
				"unemployment": 0.8366637706,
				"crime": 0.8569181025,
				"salary": 0.7891097666,
				"housing": 0.572115375,
				"prices": 0.3738317757,
				"russian": 0.0345397906,
				"sunnydays": 0.7302844785,
				"temperature": 0.6563443117,
				"precipitation": 0.4898897978,
				"sea": 0,
				"tourism": 0.0201544313,
				"hitech": 0.0338201384,
				"agriculture": 0.4903489873,
				"business": 0.8264557584,
				"languages": 1
			},
			"langs" :[
				"испанский"
			],
			"url": "http://www.larioja.org/",
			"wikiUrl": "https://ru.wikipedia.org/wiki/%D0%A0%D0%B8%D0%BE%D1%85%D0%B0"
		}
	],
	"questions": [
		{
			"name": "density",
			"brief": "Плотность населения",
			"description": "Насколько важна высокая плотность населения в регионе? Вам нравится наличие большого количества людей " +
						   "или предпочитаете возможность уединиться? Учитываются только постоянно проживающие жители, без учёта туристов.",
			"options": [
				{
					"text": "Чем меньше, тем лучше",
					"value": 0.5
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Люблю, когда много народу",
					"value": 2.5
				}
			]
		},
		{
			"name": "unemployment",
			"brief": "Работа и количество безработных",
			"description": "В регионах с высокой безработицей меньше шансов найти работу, но если вы работаете удалённо, то, " +
						   "скорее всего, вас это не интересует.",
			"options": [
				{
					"text": "Не интересует испанская работа",
					"value": 0
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Нужна работа на месте",
					"value": 2.5
				}
			]
		},
		{
			"name": "crime",
			"brief": "Безопасность и уровень преступности",
			"description": "В Испании в целом уровень преступности достаточно низок, но тем не менее, все регионы отличаются и по этому показателю.",
			"options": [
				{
					"text": "Испанская преступность мне не страшна",
					"value": 0
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Хочу, чтобы было максимально безопасно",
					"value": 2.5
				}
			]
		},
		{
			"name": "salary",
			"brief": "Средняя заработная плата",
			"description": "Уровень средней заработной платы влияет и на платежеспособность населения, и на оплату работ нелегальных работников в том числе.",
			"options": [
				{
					"text": "Не интересует испанская зарплата",
					"value": 0
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Чем больше платят, тем лучше",
					"value": 2.5
				}
			]
		},
		{
			"name": "housing",
			"brief": "Рост цен на недвижимость",
			"description": "Рост цен на недвижимость влияет на стоимость аренды в том числе. Показатель включает цены как на вторичное, так и на новое жильё.",
			"options": [
				{
					"text": "У меня свое жилье",
					"value": 0
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Хочу платить за жильё как можно меньше",
					"value": 2.5
				}
			]
		},
		{
			"name": "prices",
			"brief": "Индекс потребительских цен",
			"description": "ИПЦ отражает рост цен на товары(включая импортные) и услуги в регионе, отражается даже на ценах в крупных торговых сетях.",
			"options": [
				{
					"text": "Трачу деньги не особо задумываясь",
					"value": 0.25
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Хочу по возможности экономить",
					"value": 2.5
				}
			]
		},
		{
			"name": "russian",
			"brief": "Наличие русскоговорящего сообщества",
			"description": "Чем больше русскоговорящее сообщество в регионе, тем проще найти работу без знания языка. " +
						   "Также отражается на наличии магазинов с соответствующими товарами и услуг на русском языке.",
			"options": [
				{
					"text": "Не хочу жить с русскоговорящими",
					"value": -0.5
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Чем больше \"советских\" людей, тем лучше",
					"value": 2.5
				}
			]
		},
		{
			"name": "sunnydays",
			"brief": "Количество солнечных часов в году",
			"description": "Испания в целом достаточно солнечная страна, но от региона к региону количество солнечных часов достаточно сильно разнится.",
			"options": [
				{
					"text": "Не люблю солнце",
					"value": -0.5
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Хочу максимально солнечную Испанию",
					"value": 2.5
				}
			]
		},
		{
			"name": "temperature",
			"brief": "Средняя температура воздуха",
			"description": "Вы любите жаркое лето и тёплую зиму? Или предпочитаете, чтобы летом было нежарко? " +
						   "Зимы в Испании во всех регионах относительно тёплые, но всё-таки есть разброс средних температур порядка 10-15 градусов.",
			"options": [
				{
					"text": "Не люблю жару",
					"value": -0.25
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Люблю, когда тепло и летом, и зимой",
					"value": 2.5
				}
			]
		},
		{
			"name": "precipitation",
			"brief": "Влажность и количество осадков",
			"description": "От количества осадков очень сильно зависит уровень влажности. Во влажном климате жара и холод воспринимаются сильнее, нежели в сухом.",
			"options": [
				{
					"text": "Ничего против дождя не имею",
					"value": 0.25
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Люблю, когда сухо",
					"value": 2.5
				}
			]
		},
		{
			"name": "sea",
			"brief": "Наличие выхода к морю",
			"description": "Для многих море это несомненный плюс Испании. Нужно учитывать, что многие регионы имеют очень небольшую " +
						   "прибрежную зону, а также то, что море даёт дополнительную влажность.",
			"options": [
				{
					"text": "Мне и без моря хорошо",
					"value": 0
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Обязательно море, хочу на пляж",
					"value": 2
				}
			]
		},
		{
			"name": "tourism",
			"brief": "Туристический поток",
			"description": "Все по-разному относятся к наплыву туристов, поэтому ежегодный туристический поток является важным фактором при выборе " +
						   "региона. Также большое скопление туристов привлекает воришек и мошенников, в то же время туристические места, как правило, " +
						   "прекрасно подходят для отдыха.",
			"options": [
				{
					"text": "Хочу тишины и покоя, без туристов",
					"value": -0.75
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Хочу жить в туристическом месте",
					"value": 1.5
				}
			]
		},
		{
			"name": "hitech",
			"brief": "Высокие технологии",
			"description": "Развитость высокотехнологичных производств (фарма, космос, ИТ, машиностроение, исследовательские институты и т.п.) - " +
						   "важный показатель развитости региона, однако если вы не собираетесь работать на подобном производстве, то для вас " +
						   "этот момент не играет существенной роли.",
			"options": [
				{
					"text": "Не хочу в высокотехнологичный регион",
					"value": -0.75
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Хочу в высокотехнологичный регион",
					"value": 1.5
				}
			]
		},
		{
			"name": "agriculture",
			"brief": "Сельское хозяйство",
			"description": "Испания - развитая сельскохозяйственная страна, многие регионы заняты в производстве сельскохозяйственной продукции, соответственно, в " +
						   "таких регионах многие товары стоят дешевле, а также есть вакансии на сельскохозяйственные работы.",
			"options": [
				{
					"text": "Не хочу в с/х регион",
					"value": -0.75
				},
				{
					"text": "Без разницы",
					"value": 1
				},
				{
					"text": "Хочу в с/х регион",
					"value": 1.5
				}
			]
		},
		{
			"name": "business",
			"brief": "Малый и средний бизнес",
			"description": "Индекс отражает уровень развития и степень \"выживаемости\" малого и среднего бизнеса в Испании, важный показатель для всех тех," +
						   "кто планирует начинать или приобретать бизнес в Испании.",
            "options": [
                {
                    "text": "Без разницы",
                    "value": 1
                },
                {
                    "text": "Важно, планирую заниматься бизнесом",
                    "value": 2
                }
            ]
		},
        {
            "name": "languages",
            "brief": "Языки",
            "description": "В некоторых регионах страны кроме основного варианта испанского языка в ходу также местные языки и диалекты. " +
            "Наличие таких языков желательно учитывать, если есть дети - в школе скорее всего будут предметы на этом языке.",
            "options": [
                {
                    "text": "Мне бы с испанским разобраться!",
                    "value": -0.5
                },
                {
                    "text": "Без разницы",
                    "value": 0
                },
                {
                    "text": "Обожаю языки, чем больше, тем лучше!",
                    "value": 0.5
                }
            ]
        }
	]
};

Spain.calculateRegions = function() {
	var regions = [];

	var weights = !this.weights ? {} : this.weights;

	this.data.forEach(
		function (region) {
			var score = 0;

			for (var param in region.params) {
				var weight = isNaN(weights[param]) ? 1 : weights[param];

				score += region.params[param] * weight;
			}

			region.score = score;

			regions.push(region);
		}
	)

	regions.sort(
		function (region1, region2) {
			return region2.score < region1.score ? -1 :
				region2.score == region1.score ? 0 : 1;
		}
	)

	return regions;
};

Spain.nextQuestion = function() {
	var viewport = $('.viewport');

	var current = !viewport.data('question') ? 0 : viewport.data('question');

	if (current == 0) {
		this.weights = {};
	}

	var question = this.questions[current];

	var div = $('<div class="col-md-5 col-xs-11 col-lg-4 viewport" style="margin: 0 auto; float: none;"></div>').append(
		$('<p class="text-center"></p>').append(
			$('<h4></h4>').text(question.brief)));

	div.append($('<p class="text-justify text-muted"></p>').text(question.description));

	var instance = this;

	question.options.forEach(
		function(option) {
			var button = $('<button class="btn btn-primary option" style="margin-right:5px; margin-top:5px; font-size: 2rem;"></button>');

			button.text(option.text);

			button.on(
				'click',
				function() {
					instance.weights[question.name] = option.value;

					if (current == instance.questions.length) {
						instance.showResults();
					}
					else {
						instance.nextQuestion();
					}

				}
			)

			div.append($('<br/>'));
			div.append(button);
		}
	);

	div.data('question', ++current);

	viewport.replaceWith(div);
};

Spain.showResults = function() {
	var regions = this.calculateRegions();

	var viewport = $('.viewport');

	var div = $('<div class="col-md-5 col-xs-11 col-lg-4 text-center table-responsive viewport" style="margin: 0 auto; float: none;"></div>');

	div.append($('<h4></h4>').text('Готово!'));
	div.append($('<p class="text-justify text-info"></p>').html(
		'Наиболее подходящим регионом Испании для вас является <b>' +
		regions[0].name + '</b>, но также стоит обратить внимание на ТОП-5 регионов, подобранных по вашим ответам.<br/>' +
		'Поделитесь результатом в социальных сетях:'
	));

	var shareDiv = $('<div class="share"></div>');

	shareDiv.html('<div class="a2a_kit a2a_kit_size_32 a2a_default_style">' +
		'<a class="a2a_dd" href="https://www.addtoany.com/share"></a>' +
		'<a class="a2a_button_facebook"></a>' +
		'<a class="a2a_button_twitter"></a>' +
		'<a class="a2a_button_google_plus"></a>' +
		'<a class="a2a_button_tuenti"></a>' +
		'<a class="a2a_button_telegram"></a>' +
		'<a class="a2a_button_odnoklassniki"></a>' +
		'<a class="a2a_button_vk"></a>' +
		'<a class="a2a_button_mail_ru"></a>' +
		'<a class="a2a_button_blogger"></a>' +
		'<a class="a2a_button_linkedin"></a>' +
		'</div>' +
		'<script>' +
		'var a2a_config = a2a_config || {};' +
		'a2a_config.linkname = "Мне больше всего подходит ' + regions[0].name + ', а тебе? Выбор региона Испании!";' +
		'a2a_config.linkurl = "https://psavinov.github.io/spain-region/";' +
		'a2a_config.locale = "ru";' +
		'</script>' +
		'<script async src="https://static.addtoany.com/menu/page.js"></script>');

	div.append(shareDiv);

	var table = $('<table class="table table-bordered"></table>');

	var header = $('<thead></thead>');
	var headerRow = $('<tr></tr>');
	headerRow.append($('<th></th>').text('Автономия'));
	headerRow.append($('<th></th>').text('На Google - картах'));
	headerRow.append($('<th></th>').text('Официальный сайт'));
	headerRow.append($('<th></th>').text('Официальные языки'));

	header.append(headerRow);
	table.append(header);

	var body = $('<tbody></tbody>');

	regions.forEach(
		function(region, index) {
			var rowClass = (index <= 4) ? 'success' :
				(index > 10  && index < 14) ? 'warning' :
					(index > 13) ? 'danger' : 'info';

			var row = $('<tr class="' + rowClass + '"></tr>');

			row.append($('<td></td>').html('<a href="' + region.wikiUrl + '" target="_blank">' + region.name + '</a>'));
			row.append($('<td></td>').html('<a href="' + region.mapUrl +'" target="_blank">Показать на карте</a>'));
			row.append($('<td></td>').html('<a href="' + region.url +'" target="_blank">Оф. сайт</a>'));
			row.append($('<td></td>').text(region.langs.join(', ')));

			body.append(row);
		}
	);

	table.append(body);

	div.append($('<br/>'));
	div.append(table);
	div.append($('<br/>'));

	var button = $('<button class="btn btn-primary btn-lg" style="font-size: 3rem;">Подобрать еще раз</button>');

	viewport.data('question', 0);

	var instance = this;

	button.on(
		'click',
		function () {
			instance.nextQuestion();
		}
	);

	div.append(button);

	viewport.replaceWith(div);
};